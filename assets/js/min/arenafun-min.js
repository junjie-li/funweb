!function($){"use strict";var o=function(o){var t=this;t.options=o,t.$window=$(window),t.$document=$(document),t.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/g.test(navigator.userAgent||navigator.vendor||window.opera),t.$preloader=$(".page-preloader"),t.$content=$(".content"),t.$navbar=$(".navbar-youplay"),t.$navbarToggleBtn=t.$navbar.find("[data-toggle=off-canvas]"),t.$navbarToggleTarget=t.$navbar.find(t.$navbarToggleBtn.attr("data-target")),t.navbarSmall=!1,t.navbarMaxTop=100,t.$searchToggle=$(".search-toggle"),t.$searchBlock=$(".search-block"),t.$inputs=$("input, textarea"),t.$ajaxForm=$(".youplay-form-ajax"),t.$hexagonRating=$(".youplay-hexagon-rating"),t.$accordions=$(".youplay-accordion"),t.$carousels=$(".youplay-carousel"),t.$sliders=$(".youplay-slider"),t.$owlCarousel=$(".owl-carousel"),t.$imagePopup=$(".image-popup"),t.$galleryPopup=$(".gallery-popup"),t.$videoPopup=$(".video-popup"),t.$revSlider=$(".rs-youplay"),t.$isotope=$(".isotope"),t.skrollr};o.DEFAULT={parallax:!0,navbarSmall:!1,fadeBetweenPages:!0},o.prototype.init=function(o){var t=this;t.options=$.extend({},this.options,o),$(window).load(function(){t.options.navbarSmall||(t.options.navbarSmall=t.$navbar.hasClass("navbar-small")),t.options.fadeBetweenPages&&t.fadeBetweenPages(),$('[data-toggle="tooltip"]').tooltip({container:"body"}),$('[data-toggle="popover"]').popover(),"undefined"!=typeof $.fn.owlCarousel&&t.initOwlCarousel(),"undefined"!=typeof $.fn.magnificPopup&&t.initMagnificPopup(),"undefined"!=typeof $.fn.revolution&&t.initSliderRevolution(),"undefined"!=typeof $.fn.isotope&&t.initIsotope(),"undefined"!==$.fn.hexagonProgress&&t.initHexagonRating(),t.navbarCollapse(),t.options.navbarSmall||(t.$window.on("scroll",function(o){t.navbarSize(t.$window.scrollTop())}),t.navbarSize(t.$window.scrollTop())),t.navbarSubmenuFix(),t.$searchToggle.on("click",function(o){o.preventDefault(),t.searchToggle()}),t.$document.on("keyup",function(o){27==o.keyCode&&t.searchToggle("close")}),t.$inputs.on("focus",function(){t.inputsActive(this,!0)}),t.$inputs.on("blur",function(){t.inputsActive(this)}),t.$inputs.filter("[autofocus]:eq(0)").focus(),t.initAjaxForm(),t.$accordions.find(".collapse").on("shown.bs.collapse",function(){$(this).parent().find(".icon-plus").removeClass("icon-plus").addClass("icon-minus"),t.refresh()}).on("hidden.bs.collapse",function(){$(this).parent().find(".icon-minus").removeClass("icon-minus").addClass("icon-plus"),t.refresh()}),t.options.parallax&&!t.isMobile&&"undefined"!=typeof skrollr&&(t.skrollr=skrollr.init({smoothScrolling:!1,forceHeight:!1})),setTimeout(function(){t.$preloader.fadeOut(function(){$(this).find("> *").remove()})},200)})},o.prototype.refresh=function(){this.skrollr&&this.skrollr.refresh()},o.prototype.initOwlCarousel=function(){this.$carousels.each(function(){var o=$(this).attr("data-autoplay");$(this).owlCarousel({loop:!0,stagePadding:70,nav:!0,dots:!1,autoplay:!!o,autoplayTimeout:o,autoplaySpeed:600,autoplayHoverPause:!0,navText:["",""],responsive:{0:{items:1},500:{items:2},992:{items:3},1200:{items:4}}})}),this.$sliders.each(function(){var o=$(this).attr("data-autoplay");$(this).owlCarousel({loop:!0,nav:!1,autoplay:o?!0:!1,autoplayTimeout:o,autoplaySpeed:600,autoplayHoverPause:!0,items:1})}),this.$owlCarousel.each(function(){var o=$(this).attr("data-autoplay");$(this).owlCarousel({loop:!0,dots:!0,autoplay:!!o,autoplayTimeout:o,autoplaySpeed:600,autoplayHoverPause:!0,responsive:{0:{items:3},500:{items:4},992:{items:5},1200:{items:6}}})})},o.prototype.initMagnificPopup=function(){var o={closeOnContentClick:!0,closeBtnInside:!1,fixedContentPos:!1,mainClass:"mfp-no-margins mfp-img-mobile mfp-with-fade",tLoading:'<div class="preloader"></div>',removalDelay:300,image:{verticalFit:!0,tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'}};this.$imagePopup.magnificPopup($.extend({type:"image"},o)),this.$videoPopup.magnificPopup($.extend({type:"iframe"},o)),this.$galleryPopup.magnificPopup($.extend({delegate:".owl-item:not(.cloned) a",type:"image",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},callbacks:{elementParse:function(o){var t=/youtube.com|youtu.be|vimeo.com/g.test(o.src);t?o.type="iframe":o.type="image"}}},o))},o.prototype.initSliderRevolution=function(){var o=this;o.$revSlider.each(function(){var t=$(this),e={dottedOverlay:"none",navigationType:"bullet",navigationArrows:"solo",navigationStyle:"preview4",fullWidth:t.hasClass("rs-fullwidth")?"on":"off",fullScreen:t.hasClass("rs-fullscreen")?"on":"off",spinner:"spinner4"},a=t.find(".tp-banner").show().revolution(e);a.on("revolution.slide.onloaded",function(){o.refresh()})})},o.prototype.initIsotope=function(){var o=this;o.$isotope.each(function(){var t=$(this).find(".isotope-list"),e=$(this).find(".isotope-options");t.isotope({layoutMode:"fitRows",itemSelector:".item"}),t.isotope("on","arrangeComplete",function(){o.refresh()}),t.isotope("on","layoutComplete",function(){o.refresh()}),e.on("click","> :not(.active)",function(o){$(this).addClass("active").siblings().removeClass("active");var e=$(this).attr("data-filter");o.preventDefault(),t.isotope({filter:function(){if("all"===e)return!0;var o=$(this).attr("data-filters");if(o){o=o.split(",");for(var t in o)if(o[t].replace(/\s/g,"")===e)return!0}return!1}})})}),setTimeout(function(){o.refresh()},1e3)},o.prototype.fadeBetweenPages=function(){function o(o){return o.replace(/^.*[\\\/]/,"")}function t(o){o.preventDefault();var t=this.href;e.$preloader.fadeIn(300,function(){window.location.href=t})}var e=this,a=new RegExp("//"+location.host+"($|/)"),i=new RegExp(location.href),n=o(location.href);$("a").each(function(){var i=this.href,s=o(i),r="http"===i.substring(0,4)?a.test(i):!0,l=s==n,p=/\.html/g.test(s),u=/#/g.test(s),c=$(this).is(e.$searchToggle);!r||l||!p||u||c?l&&p&&!u&&$(this).on("click",function(o){o.preventDefault()}):$(this).on("click",t)})},o.prototype.navbarSize=function(o){o>this.navbarMaxTop&&!this.navbarSmall&&(this.navbarSmall=!0,this.$navbar.addClass("navbar-small")),o<=this.navbarMaxTop&&this.navbarSmall&&(this.navbarSmall=!1,this.$navbar.removeClass("navbar-small"))},o.prototype.navbarCollapse=function(){var o=this;o.$navbarToggleBtn.on("click",function(){o.$navbarToggleTarget.toggleClass("collapse")})},o.prototype.navbarSubmenuFix=function(){this.$navbar.on("click",".dropdown-submenu > a",function(o){o.preventDefault(),o.stopPropagation()})},o.prototype.initAjaxForm=function(){this.$ajaxForm.on("submit",function(o){o.preventDefault();var t=$(this),e=t.find('[type="submit"]');e.is(".disabled")||e.is("[disabled]")||$.post($(this).attr("action"),$(this).serialize(),function(o,e){swal({type:"success",title:"Success!",text:o,showConfirmButton:!0,confirmButtonClass:"btn-default"}),t[0].reset()}).fail(function(o){swal({type:"error",title:"Error!",text:o.responseText,showConfirmButton:!0,confirmButtonClass:"btn-default"})})})},o.prototype.searchToggle=function(o){var t=this,e=t.$searchBlock.hasClass("active");"close"==o&&!e||"open"==o&&e||(e?t.$searchBlock.removeClass("active"):(t.$searchBlock.addClass("active"),setTimeout(function(){t.$searchBlock.find("input").focus()},120)))},o.prototype.inputsActive=function(o,t){t?$(o).parent().addClass("input-filled"):$(o).parent().removeClass("input-filled")},o.prototype.initHexagonRating=function(){this.$hexagonRating.each(function(){var o=parseFloat($(this).attr("data-max"))||10,t=parseFloat($(this).text())||0,e=parseFloat($(this).attr("data-size"))||120,a=$(this).attr("data-back-color")||"rgba(255,255,255,0.1)",i=$(this).attr("data-front-color")||"#fff";$(this).css({width:e,height:e}).hexagonProgress({value:t/o,size:e,animation:!1,lineWidth:2,clip:!0,lineBackFill:{color:a},lineFrontFill:{color:i}})})},window.youplay=new o(o.DEFAULT)}(jQuery);